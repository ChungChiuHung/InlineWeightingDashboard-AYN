# 系統設定
system:
  name: "PLC Gateway"
  version: "2.5.1"
  history_interval: 5.0

# PLC 連線設定
plc:
  host: "127.0.0.1"    # 對應 simulated_plc_server.py
  port: 5020           # 對應 simulated_plc_server.py
  poll_interval: 0.1   # 輪詢頻率 (秒)
  
  # [關鍵] 暫存器地址設定
  registers:
    # [修正] 擴大讀取範圍以涵蓋 Count (40141)
    # 40001 + 150 = 40151
    read_start: 40001
    read_count: 150

    map:
      weight_now: 40001         # 即時重量 (Dword)
      start_time_year: 40003    # 時間 (Word series)
      
      # 唯讀監控資料 (R2014~)
      bucket_data_start: 40015
      bucket_ro_min_start: 40043
      bucket_settings_start: 40101
      
      fish_code: 40131          # 魚種代碼 (String)
      status: 40135             # 機台狀態 (Word)
      production_count: 40141   # [新增] 生產計數 (Dword)
      
database:
  path: "data/history.db"

logging:
  level: "INFO"